{"version":3,"sources":["InputField.js","Star.js","StarRating.js","DisplayCard.js","Container.js","index.js"],"names":["YELP_KEY","process","REACT_APP_YELP_API_KEY","InputField","props","sendData","callback","state","data","sendHidden","callbackTwo","isHidden","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","componentDidMount","total","search","radius","limit","offset","bind","url","URL","CORS_URL","Math","floor","random","params","this","latitude","longitude","Object","keys","forEach","key","searchParams","append","fetch","method","mode","headers","Authorization","catch","error","console","log","response","json","businesses","onSubmit","className","type","placeholder","onChange","Component","Star","StarRating","stars","full","empty","half","prevProps","rating","array","isHalf","j","push","q","i","k","DisplayCard","findBusiness","num","business","price","category","categories","categoryOne","title","categoryTwo","website","image","image_url","src","alt","href","Container","then","latitudeFromApi","longitudeFromApi","role","aria-label","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5868bdcf.chunk.js","sourcesContent":["import React, {Component} from \"react\";\r\n\r\nconst CORS_URL = 'https://cors-anywhere.herokuapp.com/';\r\nconst YELP_KEY = process.env.REACT_APP_YELP_API_KEY;\r\nconst YELP_URL = `https://api.yelp.com/v3/businesses/search`;\r\n\r\nclass InputField extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            data:[],\r\n            total: \"\",\r\n            search: \"\",\r\n            radius: 5000,\r\n            limit: 50,\r\n            offset: 0,\r\n            isHidden: true\r\n        }\r\n\r\n        this.handleChange = this.handleChange.bind(this); // whenever handleChange is invoked, we want the context to be InputField\r\n        this.handleSubmit = this.handleSubmit.bind(this); // whenever handleSubmit is invoked, we want the context to be InputField\r\n        this.sendData = this.sendData.bind(this);\r\n        this.sendHidden = this.sendHidden.bind(this);\r\n    }\r\n\r\n    sendData = () => {\r\n        this.props.callback(this.state.data);\r\n    }\r\n\r\n    sendHidden = () => {\r\n        this.props.callbackTwo(!this.state.isHidden);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let url = new URL(CORS_URL + YELP_URL);\r\n\r\n        let offset = Math.floor(Math.random() * 50) + 1;\r\n        let params = {\r\n            search: this.state.search,\r\n            latitude: this.props.latitude,\r\n            longitude: this.props.longitude,\r\n            radius: this.state.radius,\r\n            limit: this.state.limit,\r\n            offset: offset\r\n        };\r\n        Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\r\n\r\n        let response = await fetch ((url), {\r\n            method: \"GET\",\r\n            mode: \"cors\",\r\n            headers: {\r\n                Authorization: `Bearer ${YELP_KEY}`\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(`Looks like there was a problem: \\n ${error}`);\r\n        })\r\n\r\n        let data = await response.json()\r\n        .catch(error => {\r\n            console.log(`Looks like there was a problem: \\n ${error}`);\r\n        })\r\n\r\n        this.setState({data: data.businesses})\r\n        this.sendData();\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({[event.target.name]: event.target.value});\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.setState({[event.target.name]: event.target.value});\r\n        this.componentDidMount();\r\n        this.sendHidden();\r\n\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <h3>You are searching for: </h3>\r\n                <h3>{this.state.search}</h3>\r\n                    <input className=\"field btn btn-outline-light\" type=\"text\" placeholder=\"i.e. vegan, fries...\" name=\"search\" value={this.state.search} onChange={this.handleChange}></input>\r\n                    <input className=\"btn btn-outline-light\" type=\"submit\"></input>\r\n                </form>\r\n\r\n                <div className = \"instructions\">\r\n                    <h5>How to Use Yelp Roulette:</h5>\r\n                    <ol>\r\n                        <li>OPTIONAL: Enter a word (or a few) in the field above for inspiration.</li>\r\n                        <li>Hit submit and wait for Roulette to do its magic!</li>\r\n                    </ol>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default InputField;","import React, {Component} from \"react\";\r\n\r\nclass Star extends Component {\r\n    render() {\r\n        return(\r\n            <div className=\"container star\">\r\n                <span className={`fa fa-star ` + this.props.className}></span>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Star;","import React, {Component} from \"react\";\r\nimport Star from \"./Star\";\r\nimport \"./index.css\"\r\n\r\nclass StarRating extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            stars: [],\r\n            full: \"full\",\r\n            empty: \"empty\",\r\n            half: \"half\"\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.rating !== this.props.rating) {\r\n            let rating = this.props.rating;\r\n            let array = [];\r\n            var isHalf = false;\r\n\r\n            if (rating % 1 !== 0) {\r\n                isHalf = true;\r\n            }\r\n\r\n            if (!isHalf) {\r\n                for (var i = 0; i < rating; ++i) {\r\n                    array.push(<Star className={this.state.full} key={rating + i}/>);\r\n                }\r\n\r\n                rating = 5 - rating;\r\n                for (var k = 0; k < rating; ++k) {\r\n                    array.push(<Star className={this.state.empty} key={rating + k}/>);\r\n                }\r\n            }\r\n            else if (isHalf) {\r\n                rating = rating - 0.5;\r\n                for (var j = 0; j < rating; ++j)  {\r\n                    array.push(<Star className={this.state.full} key={rating + j}/>);\r\n                }\r\n\r\n                rating = 5 - (rating + 0.5);\r\n                for (var q = 1; q <= rating; ++q) {\r\n                    array.push(<Star className={this.state.empty} key={rating + q}/>);\r\n                }\r\n\r\n                array.push(<Star className={this.state.half} key=\"halfstar\"/>)\r\n            }\r\n\r\n            this.setState({stars: array});\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return(\r\n            <div className=\"container star\">\r\n                {this.state.stars}\r\n            </div>  \r\n        );\r\n    }\r\n}\r\n\r\nexport default StarRating;","import React, {Component} from \"react\";\r\nimport StarRating from \"./StarRating\";\r\n\r\nclass DisplayCard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            business: [],\r\n            name: \"\",\r\n            price: \"\",\r\n            rating: 0,\r\n            category: [],\r\n            categoryOne: \"\",\r\n            categoryTwo: \"\",\r\n            website: \"\",\r\n            image: \"\"\r\n        }\r\n\r\n        this.findBusiness = this.findBusiness.bind(this);\r\n    }\r\n\r\n    findBusiness = () => {\r\n        if(this.props.data) {\r\n            let data = this.props.data;\r\n            const num = Math.floor(Math.random() * 50) + 1;\r\n            let business = data[num];\r\n            this.setState({business: business});\r\n            this.setState({name: data[num].name});\r\n            this.setState({price: data[num].price});\r\n            this.setState({rating: data[num].rating});\r\n            this.setState({category: data[num].categories});\r\n            this.setState({categoryOne: data[num].categories[0].title});\r\n            if(data[num].categories[1]) {\r\n                this.setState({categoryTwo: data[num].categories[1].title});\r\n            }\r\n            this.setState({website: data[num].url});\r\n            this.setState({image: data[num].image_url});\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps.data !== this.props.data) {\r\n            this.setState({categoryTwo: \"\"});\r\n            this.findBusiness();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"card cardStyle\">\r\n                <img className=\"card-img-top\" src={this.state.image} alt=\"Card\"></img>\r\n                <div className=\"card-body\">\r\n                    <h4 className=\"card-title\">{this.state.name}</h4>\r\n                    <StarRating rating={this.state.rating}/>\r\n                    <p className=\"card-heading\">{this.state.price} - {this.state.categoryOne} ~ {this.state.categoryTwo}</p>\r\n                    <a href={this.state.website} className=\"btn btn-outline-light stretched-link\" target=\"blank\">View on Yelp!</a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DisplayCard;","import React, { Component } from \"react\";\r\nimport InputField from \"./InputField\";\r\nimport DisplayCard from \"./DisplayCard\";\r\n\r\nconst IP_URL =\r\n  \"https://api.ipdata.co/?api-key=e34d6e979258f05e6678a6e563a0eb5076f2a7c8fbc26327215ec385\";\r\n\r\nclass Container extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: [],\r\n      total: \"\",\r\n      longitude: 0,\r\n      latitude: 0,\r\n      isHidden: true,\r\n    };\r\n\r\n    this.callback = this.callback.bind(this);\r\n    this.callbackTwo = this.callbackTwo.bind(this);\r\n  }\r\n\r\n  callback = (data) => {\r\n    this.setState({ data: data });\r\n  };\r\n\r\n  callbackTwo = (isHidden) => {\r\n    this.setState({ isHidden: isHidden });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    await fetch(IP_URL)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        let latitudeFromApi = data.latitude;\r\n        let longitudeFromApi = data.longitude;\r\n        this.setState({ latitude: latitudeFromApi });\r\n        this.setState({ longitude: longitudeFromApi });\r\n      })\r\n      .catch((error) => {\r\n        console.log(`Looks like there was a problem: \\n ${error}`);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid cont\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md header\">\r\n            <h1>\r\n              Welcome to Yelp Roulette!\r\n              <span role=\"img\" aria-label=\"taco\">\r\n                🌮\r\n              </span>\r\n            </h1>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-md\"></div>\r\n          <div className=\"col-md left\">\r\n            <InputField\r\n              isHidden={this.state.isHidden}\r\n              longitude={this.state.longitude}\r\n              latitude={this.state.latitude}\r\n              callback={this.callback}\r\n              callbackTwo={this.callbackTwo}\r\n            />\r\n          </div>\r\n          <div className=\"col-md right\">\r\n            {this.state.isHidden && (\r\n              <div className=\"card cardStyle\">\r\n                <h4 className=\"cardPlaceholder\">Restaurant Incoming...</h4>\r\n              </div>\r\n            )}\r\n            {!this.state.isHidden && <DisplayCard data={this.state.data} />}\r\n          </div>\r\n          <div className=\"col-md\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Container;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport \"./index.css\";\r\nimport Container from \"./Container\"\r\n\r\nReactDOM.render(\r\n    <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n            <div className=\"col\"><Container /></div>\r\n        </div>\r\n    </div>\r\n    , document.getElementById('root'));\r\n"],"sourceRoot":""}