{"version":3,"sources":["InputField.js","Star.js","StarRating.js","DisplayCard.js","Container.js","index.js"],"names":["InputField","props","sendData","callback","state","data","sendHidden","callbackTwo","isHidden","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","componentDidMount","total","search","radius","limit","offset","bind","url","URL","CORS_URL","Math","floor","random","params","this","latitude","longitude","Object","keys","forEach","key","searchParams","append","fetch","method","mode","headers","Authorization","process","catch","error","console","log","response","json","businesses","onSubmit","className","type","placeholder","onChange","Component","Star","StarRating","stars","full","empty","half","prevProps","rating","array","isHalf","j","push","q","i","k","DisplayCard","findBusiness","num","business","price","category","categories","categoryOne","title","categoryTwo","website","image","image_url","src","alt","href","Container","then","latitudeFromApi","longitudeFromApi","role","aria-label","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c43c89b6.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nconst CORS_URL = \"https://cors-anywhere.herokuapp.com/\";\r\nconst YELP_KEY = process.env.REACT_APP_YELP_API_KEY;\r\nconst YELP_URL = `https://api.yelp.com/v3/businesses/search`;\r\n\r\nclass InputField extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: [],\r\n      total: \"\",\r\n      search: \"\",\r\n      radius: 5000,\r\n      limit: 50,\r\n      offset: 0,\r\n      isHidden: true,\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this); // whenever handleChange is invoked, we want the context to be InputField\r\n    this.handleSubmit = this.handleSubmit.bind(this); // whenever handleSubmit is invoked, we want the context to be InputField\r\n    this.sendData = this.sendData.bind(this);\r\n    this.sendHidden = this.sendHidden.bind(this);\r\n  }\r\n\r\n  sendData = () => {\r\n    this.props.callback(this.state.data);\r\n  };\r\n\r\n  sendHidden = () => {\r\n    this.props.callbackTwo(!this.state.isHidden);\r\n  };\r\n\r\n  async componentDidMount() {\r\n    let url = new URL(CORS_URL + YELP_URL);\r\n\r\n    let offset = Math.floor(Math.random() * 50) + 1;\r\n    let params = {\r\n      search: this.state.search,\r\n      latitude: this.props.latitude,\r\n      longitude: this.props.longitude,\r\n      radius: this.state.radius,\r\n      limit: this.state.limit,\r\n      offset: offset,\r\n    };\r\n    Object.keys(params).forEach((key) =>\r\n      url.searchParams.append(key, params[key])\r\n    );\r\n\r\n    let response = await fetch(url, {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        Authorization: `Bearer ${YELP_KEY}`,\r\n      },\r\n    }).catch((error) => {\r\n      console.log(`Looks like there was a problem: \\n ${error}`);\r\n    });\r\n\r\n    let data = await response.json().catch((error) => {\r\n      console.log(`Looks like there was a problem: \\n ${error}`);\r\n    });\r\n\r\n    this.setState({ data: data.businesses });\r\n    this.sendData();\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.setState({ [event.target.name]: event.target.value });\r\n    this.componentDidMount();\r\n    this.sendHidden();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <h3>You are searching for: </h3>\r\n          <h3>{this.state.search}</h3>\r\n          <input\r\n            className=\"field btn btn-outline-light\"\r\n            type=\"text\"\r\n            placeholder=\"i.e. vegan, fries...\"\r\n            name=\"search\"\r\n            value={this.state.search}\r\n            onChange={this.handleChange}\r\n          ></input>\r\n          <input className=\"btn btn-outline-light\" type=\"submit\"></input>\r\n        </form>\r\n\r\n        <div className=\"instructions\">\r\n          <h5>How to Use Yelp Roulette:</h5>\r\n          <ol>\r\n            <li>\r\n              OPTIONAL: Enter a word (or a few) in the field above for\r\n              inspiration.\r\n            </li>\r\n            <li>Hit submit and wait for Roulette to do its magic!</li>\r\n          </ol>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InputField;\r\n","import React, {Component} from \"react\";\r\n\r\nclass Star extends Component {\r\n    render() {\r\n        return(\r\n            <div className=\"container star\">\r\n                <span className={`fa fa-star ` + this.props.className}></span>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Star;","import React, { Component } from \"react\";\r\nimport Star from \"./Star\";\r\nimport \"./index.css\";\r\n\r\nclass StarRating extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      stars: [],\r\n      full: \"full\",\r\n      empty: \"empty\",\r\n      half: \"half\",\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.rating !== this.props.rating) {\r\n      let rating = this.props.rating;\r\n      let array = [];\r\n      var isHalf = false;\r\n\r\n      if (rating % 1 !== 0) {\r\n        isHalf = true;\r\n      }\r\n\r\n      if (!isHalf) {\r\n        for (var i = 0; i < rating; ++i) {\r\n          array.push(<Star className={this.state.full} key={rating + i} />);\r\n        }\r\n\r\n        rating = 5 - rating;\r\n        for (var k = 0; k < rating; ++k) {\r\n          array.push(<Star className={this.state.empty} key={rating + k} />);\r\n        }\r\n      } else if (isHalf) {\r\n        rating = rating - 0.5;\r\n        for (var j = 0; j < rating; ++j) {\r\n          array.push(<Star className={this.state.full} key={rating + j} />);\r\n        }\r\n\r\n        array.push(<Star className={this.state.half} key=\"halfstar\" />);\r\n\r\n        rating = 5 - (rating + 0.5);\r\n        for (var q = 1; q <= rating; ++q) {\r\n          array.push(<Star className={this.state.empty} key={rating + q} />);\r\n        }\r\n      }\r\n\r\n      this.setState({ stars: array });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"container star\">{this.state.stars}</div>;\r\n  }\r\n}\r\n\r\nexport default StarRating;\r\n","import React, {Component} from \"react\";\r\nimport StarRating from \"./StarRating\";\r\n\r\nclass DisplayCard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            business: [],\r\n            name: \"\",\r\n            price: \"\",\r\n            rating: 0,\r\n            category: [],\r\n            categoryOne: \"\",\r\n            categoryTwo: \"\",\r\n            website: \"\",\r\n            image: \"\"\r\n        }\r\n\r\n        this.findBusiness = this.findBusiness.bind(this);\r\n    }\r\n\r\n    findBusiness = () => {\r\n        if(this.props.data) {\r\n            let data = this.props.data;\r\n            const num = Math.floor(Math.random() * 50) + 1;\r\n            let business = data[num];\r\n            this.setState({business: business});\r\n            this.setState({name: data[num].name});\r\n            this.setState({price: data[num].price});\r\n            this.setState({rating: data[num].rating});\r\n            this.setState({category: data[num].categories});\r\n            this.setState({categoryOne: data[num].categories[0].title});\r\n            if(data[num].categories[1]) {\r\n                this.setState({categoryTwo: data[num].categories[1].title});\r\n            }\r\n            this.setState({website: data[num].url});\r\n            this.setState({image: data[num].image_url});\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps.data !== this.props.data) {\r\n            this.setState({categoryTwo: \"\"});\r\n            this.findBusiness();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"card cardStyle\">\r\n                <img className=\"card-img-top\" src={this.state.image} alt=\"Card\"></img>\r\n                <div className=\"card-body\">\r\n                    <h4 className=\"card-title\">{this.state.name}</h4>\r\n                    <StarRating rating={this.state.rating}/>\r\n                    <p className=\"card-heading\">{this.state.price} - {this.state.categoryOne} ~ {this.state.categoryTwo}</p>\r\n                    <a href={this.state.website} className=\"btn btn-outline-light stretched-link\" target=\"blank\">View on Yelp!</a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DisplayCard;","import React, { Component } from \"react\";\r\nimport InputField from \"./InputField\";\r\nimport DisplayCard from \"./DisplayCard\";\r\n\r\nconst IP_URL =\r\n  \"https://api.ipdata.co/?api-key=e34d6e979258f05e6678a6e563a0eb5076f2a7c8fbc26327215ec385\";\r\n\r\nclass Container extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: [],\r\n      total: \"\",\r\n      longitude: 0,\r\n      latitude: 0,\r\n      isHidden: true,\r\n    };\r\n\r\n    this.callback = this.callback.bind(this);\r\n    this.callbackTwo = this.callbackTwo.bind(this);\r\n  }\r\n\r\n  callback = (data) => {\r\n    this.setState({ data: data });\r\n  };\r\n\r\n  callbackTwo = (isHidden) => {\r\n    this.setState({ isHidden: isHidden });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    await fetch(IP_URL)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        let latitudeFromApi = data.latitude;\r\n        let longitudeFromApi = data.longitude;\r\n        this.setState({ latitude: latitudeFromApi });\r\n        this.setState({ longitude: longitudeFromApi });\r\n      })\r\n      .catch((error) => {\r\n        console.log(`Looks like there was a problem: \\n ${error}`);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid cont\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md header\">\r\n            <h1>\r\n              Welcome to Yelp Roulette!\r\n              <span role=\"img\" aria-label=\"taco\">\r\n                🌮\r\n              </span>\r\n            </h1>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-md\"></div>\r\n          <div className=\"col-md left\">\r\n            <InputField\r\n              isHidden={this.state.isHidden}\r\n              longitude={this.state.longitude}\r\n              latitude={this.state.latitude}\r\n              callback={this.callback}\r\n              callbackTwo={this.callbackTwo}\r\n            />\r\n          </div>\r\n          <div className=\"col-md right\">\r\n            {this.state.isHidden && (\r\n              <div className=\"card cardStyle\">\r\n                <h4 className=\"cardPlaceholder\">Restaurant Incoming...</h4>\r\n              </div>\r\n            )}\r\n            {!this.state.isHidden && <DisplayCard data={this.state.data} />}\r\n          </div>\r\n          <div className=\"col-md\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Container;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport \"./index.css\";\r\nimport Container from \"./Container\"\r\n\r\nReactDOM.render(\r\n    <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n            <div className=\"col\"><Container /></div>\r\n        </div>\r\n    </div>\r\n    , document.getElementById('root'));\r\n"],"sourceRoot":""}